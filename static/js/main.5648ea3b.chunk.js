(window["webpackJsonpreact-antd-admin"]=window["webpackJsonpreact-antd-admin"]||[]).push([[8],{100:function(e,t,n){},135:function(e,t,n){e.exports=n(208)},142:function(e,t,n){},143:function(e,t,n){},146:function(e,t,n){},208:function(e,t,n){"use strict";n.r(t);n(136);var r=n(39),a=n(0),o=n.n(a),c=n(15),i=n.n(c),u=(n(100),n(142),n(209)),s=(n(143),n(44)),l=Object(s.a)(Promise.all([n.e(5),n.e(10),n.e(22)]).then(n.bind(null,898))),d=(Object(s.a)(Promise.all([n.e(0),n.e(5),n.e(7)]).then(n.bind(null,900))),Object(s.a)(Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(12)]).then(n.bind(null,887))));var f=function(){return o.a.createElement(u.c,null,o.a.createElement(u.a,{path:"/login",component:d}),o.a.createElement(u.a,{path:"/",component:l}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var m=n(126),p=n(14),h={basename:"/admin"},v=Object(p.a)(h),g=n(87),b=n(23),w=n(90),y=n(32);var E=Object(b.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y.d:return t.user;default:return e}},websocket:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y.e:return t.websocket;default:return e}},onlineList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y.c:return t.onlineList;default:return e}},chatList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y.b:return t.chatList;case y.a:return[].concat(Object(w.a)(e),[t.chat]);default:return e}}}),O=n(125),j=Object(b.e)(E,Object(b.a)(O.a));i.a.render(o.a.createElement(g.a,{store:j},o.a.createElement(u.b,{history:v},o.a.createElement(r.b,{locale:m.a},o.a.createElement(f,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},32:function(e,t,n){"use strict";n.d(t,"d",function(){return d}),n.d(t,"b",function(){return f}),n.d(t,"a",function(){return m}),n.d(t,"e",function(){return p}),n.d(t,"c",function(){return h}),n.d(t,"f",function(){return v}),n.d(t,"h",function(){return g}),n.d(t,"g",function(){return b});n(129);var r=n(91),a=(n(128),n(57)),o=n(24),c=n.n(o),i=n(41),u=n(0),s=n.n(u),l=n(98),d="SET_USER";var f="SET_CHATLIST";var m="ADD_CHAT";var p="SET_WEBSOCKET";var h="SET_ONLINELIST";function v(e){return function(){var e=Object(i.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:0,t({type:d,user:{avatar:"http://47.99.130.140:8888/public/images/default.png",birth:null,gender:null,id:211,isAdmin:0,lastLoginAddress:{ip:"119.251.19.174",location:{lat:39.98246,lng:117.07822},ad_info:{nation:"\u4e2d\u56fd",province:"\u6cb3\u5317\u7701",city:"\u5eca\u574a\u5e02",district:"\u4e09\u6cb3\u5e02",adcode:131082}},lastLoginTime:1574932060130,location:null,phone:null,registrationAddress:{ip:"43.228.36.158",location:{lat:39.90469,lng:116.40717},ad_info:{nation:"\u4e2d\u56fd",province:"\u5317\u4eac\u5e02",city:"\u5317\u4eac\u5e02",district:"",adcode:11e4}},registrationTime:1566289120194,username:"zhangsan"}});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}function g(e){return function(){var t=Object(i.a)(c.a.mark(function t(n){var o;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(o=new WebSocket("ws://"+window.location.hostname+":8888")).onopen=function(){var t={id:e.id,username:e.username,avatar:e.avatar};o.send(JSON.stringify(t)),console.log("\u6570\u636e\u53d1\u9001\u4e2d...")},o.onmessage=function(e){var t,o,c=JSON.parse(e.data);0===c.type&&(n((t=c.msg.onlineList,{type:h,onlineList:t})),c.msg.text&&a.a.info({message:"\u63d0\u793a",description:c.msg.text})),1===c.type&&(n((o=c.msg,{type:m,chat:o})),a.a.open({message:c.msg.username,description:s.a.createElement("div",{dangerouslySetInnerHTML:{__html:c.msg.content}}),icon:s.a.createElement(r.a,{src:c.msg.userAvatar})}))},n({type:p,websocket:o}),n(b());case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}function b(){return function(){var e=Object(i.a)(c.a.mark(function e(t){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.c)();case 2:n=e.sent,t((r=n.data||[],{type:f,chatList:r}));case 4:case"end":return e.stop()}var r},e)}));return function(t){return e.apply(this,arguments)}}()}},44:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(122),c=n.n(o),i=n(78),u=n(79),s=n(80),l=n(81),d=n(82),f=(n(146),function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=void 0===t?"":t,r=e.style,o=void 0===r?{}:r;return a.a.createElement("div",{id:"my-loading",className:n,style:o},a.a.createElement("div",{className:"loader"}),a.a.createElement("div",{className:"shadow"}))}}]),t}(a.a.Component));t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return c()({loader:function(){return e},loading:function(){return t?a.a.createElement(f,{style:{background:"none",height:"calc(100vh - 173px)"}}):null}})}},98:function(e,t,n){"use strict";var r=n(101),a="usetoken";function o(){return localStorage.getItem(a)}var c=n.n(r).a.create({baseURL:"http://192.168.0.102:8888/api",timeout:0});c.interceptors.request.use(function(e){return o()&&(e.headers.token=o()),e},function(e){return console.error(e),Promise.reject(e)}),c.interceptors.response.use(function(e){return e},function(e){return Promise.reject(e)});var i=c;function u(e){return i({url:"/message/create",method:"post",data:e})}function s(){return i({url:"/chat/list",method:"get"})}function l(){return i({url:"/user/getAllUsers",method:"get"})}n.d(t,"a",function(){return u}),n.d(t,"c",function(){return s}),n.d(t,"b",function(){return l})}},[[135,9,11]]]);